function DiceViewModel(){var a=this;a.total=ko.observable(0),a.rolls=ko.observableArray(),a.roll=function(b){var c=Math.floor(Math.random()*b)+1;a.rolls().push(c),a.total(a.total()+c)},a.clear=function(){a.rolls([]),a.total(0)},a.sum=ko.computed(function(){if(a.total()){var b=a.rolls().join(" + ");return b=b+" = "+a.total()}return""})}function PCViewModel(){var a=this;a.name=ko.observable("Gene Ric")}function AdminViewModel(){var a=this;a.chars=ko.observableArray([]),a.selected=ko.observable(),a.char_names=ko.computed(function(){return a.chars().map(function(a){return a.name||""})}),a.get_selected=function(){for(var b=0;b<a.chars().length;b++)if(a.chars()[b].name===a.selected)return a.chars()[b];return null},a.new_=function(){var b=new PCViewModel;ko.cleanNode(document.getElementById("pc")),ko.applyBindings(b,document.getElementById("pc")),a.chars.push(b),a.selected(b.name),localStorage&&localStorage.setItem("admin",ko.mapping.toJSON(a))},a.load=function(){var b=ko.mapping.fromJS(a.get_selected(),{},new PCViewModel);ko.cleanNode(document.getElementById("pc")),ko.applyBindings(b,document.getElementById("pc")),localStorage&&localStorage.setItem("admin",ko.mapping.toJSON(a))},a.delete_=function(){},a.save=function(){localStorage&&localStorage.setItem("admin",ko.mapping.toJSON(a))}}ko.applyBindings(new DiceViewModel,document.getElementById("dice"));var model;localStorage&&localStorage.getItem("admin")?(model=ko.mapping.fromJSON(localStorage.getItem("admin"),{},new AdminViewModel),model.load()):(model=new AdminViewModel,model.new_()),ko.applyBindings(model,document.getElementById("admin"));